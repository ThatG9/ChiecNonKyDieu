<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Chiếc Nón Kì Diệu</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="wheel.js"></script>
</head>

<body>
    <!-- header -->
    <div class="container">
        <div class="header">
            <h2 class="title">Chiếc Nón Kỳ Diệu</h2>
            <p class="sub-title">Game vòng quay may mắn đoán chữ liền tay</p>
        </div>
    </div>

    <!-- Phần nhập tên người chơi -->
    <div id="playerSetup" class="card player-setup">
        <h3>Nhập tên để bắt đầu chơi</h3>
        <input type="text" id="playerName" class="input-field" placeholder="Tên của bạn..." maxlength="15">
        <br>
        <button class="btn btn-primary" onclick="startGame()"><i class="fas fa-play"></i> Bắt đầu chơi</button>
    </div>

    <!-- Khu vực chơi game -->
    <div id="gameArea" class="hidden">
        <!-- Hiển thị điểm -->
        <div class="card score-display">
            <div>Người chơi: <span id="currentPlayer">---</span></div>
            <div>Điểm số: <span class="score-number" id="currentScore">0</span></div>
        </div>

        <!-- Vòng quay SVG -->
        <div class="card wheel-section">
            <svg class="wheelSVG">
                <!-- Định nghĩa gradient và filter -->
                <defs>
                    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                        <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="black" flood-opacity="0.8" />
                    </filter>
                    <filter id="textShadow" x="-50%" y="-50%" width="200%" height="200%">
                        <feDropShadow dx="1" dy="1" stdDeviation="2" flood-color="black" flood-opacity="0.9" />
                    </filter>
                </defs>

                <!-- Vòng quay chính -->
                <g id="wheel" class="main-wheel">
                    <!-- Ô 1: 100 điểm (0-60 độ) -->
                    <path d="M 160 160 L 160 10 A 150 150 0 0 1 289.9 85 Z" class="segment seg-100" />
                    <text x="225" y="70" class="segment-label">100</text>

                    <!-- Ô 2: 200 điểm (60-120 độ) -->
                    <path d="M 160 160 L 289.9 85 A 150 150 0 0 1 289.9 235 Z" class="segment seg-200" />
                    <text x="270" y="160" class="segment-label">200</text>

                    <!-- Ô 3: 300 điểm (120-180 độ) -->
                    <path d="M 160 160 L 289.9 235 A 150 150 0 0 1 160 310 Z" class="segment seg-300" />
                    <text x="225" y="250" class="segment-label">300</text>

                    <!-- Ô 4: 500 điểm (180-240 độ) -->
                    <path d="M 160 160 L 160 310 A 150 150 0 0 1 30.1 235 Z" class="segment seg-500" />
                    <text x="95" y="250" class="segment-label ">500</text>

                    <!-- Ô 5: MẤT LƯỢT (240-300 độ) -->
                    <path d="M 160 160 L 30.1 235 A 150 150 0 0 1 30.1 85 Z" class="segment seg-miss" />
                    <text x="50" y="155" class="segment-label small">MẤT</text>
                    <text x="50" y="175" class="segment-label small ">LƯỢT</text>

                    <!-- Ô 6: 400 điểm (300-360 độ) -->
                    <path d="M 160 160 L 30.1 85 A 150 150 0 0 1 160 10 Z" class="segment seg-400" />
                    <text x="95" y="70" class="segment-label">400</text>
                </g>

                <!-- Viền vàng -->
                <circle cx="160" cy="160" r="155" class="wheel-border" />

                <!-- Mũi tên cố định -->
                <polygon points="160,5 175,25 165,25 165,35 155,35 155,25 145,25" class="pointer" />
                <circle cx="160" cy="30" r="8" class="center-button" />
            </svg>
            <button class="btn btn-primary" id="spinBtn" onclick="spinWheel()"> <i class="fa-solid fa-arrows-spin"></i>
                Quay vòng</button>
        </div>

        <!-- Trạng thái game -->
        <div class="game-status" id="gameStatus">Nhấn "Quay vòng" để bắt đầu!</div>

        <!-- Khu vực câu đố -->
        <div id="puzzleArea" class="card puzzle-area hidden">
            <p id="hint"></p>
            <p id="word"></p>
            <p id="guess">
                Đoán một chữ cái:
                <input type="text" maxlength="1" id="letterGuess">
                <button class="btn btn-guess" onclick="guessLetter()">Đoán chữ</button>
            </p>
        </div>
    </div>
    <!-- Nút điều khiển -->
    <div class="card" style="text-align: center;">
        <button class="btn btn-primary" onclick="newGame()"><i class="fa fa-refresh" aria-hidden="true"></i> Chơi
            lại</button>
        <button class="btn btn-success" onclick="saveCurrentScore()"><i class="fa-solid fa-floppy-disk"></i> Lưu
            điểm</button>
        <button class="btn btn-primary" onclick="resetGame()"><i class="fa-solid fa-house-chimney"></i> Về trang
            chủ</button>
    </div>
    </div>
    <!-- Bảng xếp hạng -->
    <div class="card leaderboard">
        <h3 class="leaderboard-title"><i class="fa-solid fa-trophy"></i> Bảng xếp hạng</h3>
        <div class="card leaderboard">
            <table class="leaderboard-table" id="leaderboardList">
                <thead>
                    <tr>
                        <th class="rank">Hạng</th>
                        <th class="player-name">Tên người chơi</th>
                        <th class="player-score">Điểm số</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                </tbody>
            </table>
        </div>
    </div>
    </div>
    <p id="error"></p>
    <p id="message"></p>
    </div>
</body>

</html>
